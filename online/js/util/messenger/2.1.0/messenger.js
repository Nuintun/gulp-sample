define("util/messenger/2.1.0/messenger",[],function(t,e,n){function i(t,e){var n="";if(arguments.length<2?n="target error - target and name are both required":"object"!=typeof t?n="target error - target itself must be window object":"string"!=typeof e&&(n="target error - target name must be string type"),n)throw new Error(n);this.target=t,this.name=e}function r(t,e){this.targets={},this.name=t,this.listenFunc=[],o=e||o,this.initListen()}var o="arale-messenger",s="postMessage"in window;i.prototype.send=s?function(t){this.target.postMessage(o+t,"*")}:function(t){var e=window.navigator[o+this.name];if("function"!=typeof e)throw new Error("target callback function is not defined");e(o+t,window)},r.prototype.addTarget=function(t,e){this.targets[e]=new i(t,e)},r.prototype.initListen=function(){var t=this,e=function(e){"object"==typeof e&&e.data&&(e=e.data),e=e.slice(o.length);for(var n=0;n<t.listenFunc.length;n++)t.listenFunc[n](e)};s?"addEventListener"in document?window.addEventListener("message",e,!1):"attachEvent"in document&&window.attachEvent("onmessage",e):window.navigator[o+this.name]=e},r.prototype.listen=function(t){this.listenFunc.push(t)},r.prototype.clear=function(){this.listenFunc=[]},r.prototype.send=function(t){var e,n=this.targets;for(e in n)n.hasOwnProperty(e)&&n[e].send(t)},n.exports=r});